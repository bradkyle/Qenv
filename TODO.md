move pipe into engine
setup ingress inside engine

TODO create giant state maintenence/feature generation engine
TODO save context on reset?