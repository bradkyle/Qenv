randomization should be added in order to facilitate generalization

Assumes cross margin is used, implement isolated margin as well